shadow$provide.module$node_modules$d3_delaunay$src$delaunay=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,
staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function pointX(p){return p[0]}function pointY(p){return p[1]}function collinear$jscomp$0(d){var triangles=d.triangles;d=d.coords;for(var i=0;i<triangles.length;i+=3){var a=2*triangles[i],b=2*triangles[i+1],c=2*triangles[i+2];if(1E-10<(d[c]-d[a])*(d[b+1]-d[a+1])-(d[b]-d[a])*(d[c+1]-d[a+1]))return!1}return!0}function jitter(x,y,r){return[x+Math.sin(x+
y)*r,y+Math.cos(x-y)*r]}function flatIterable(points,fx,fy,that){var i,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step2,p;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:i=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context3.prev=4,_iterator=points[Symbol.iterator]();case 6:if(_iteratorNormalCompletion=(_step2=_iterator.next()).done){_context3.next=16;break}p=_step2.value;_context3.next=
10;return fx.call(that,p,i,points);case 10:return _context3.next=12,fy.call(that,p,i,points);case 12:++i;case 13:_iteratorNormalCompletion=!0;_context3.next=6;break;case 16:_context3.next=22;break;case 18:_context3.prev=18,_context3.t0=_context3["catch"](4),_didIteratorError=!0,_iteratorError=_context3.t0;case 22:if(_context3.prev=22,_context3.prev=23,!_iteratorNormalCompletion&&null!=_iterator["return"])_iterator["return"]();case 25:_context3.prev=25;if(!_didIteratorError){_context3.next=28;break}throw _iteratorError;
case 28:return _context3.finish(25);case 29:return _context3.finish(22);case 30:case "end":return _context3.stop()}},_marked,null,[[4,18,22,30],[23,,25,29]])}Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _delaunator=_interopRequireDefault(require("module$node_modules$delaunator$index")),_path=_interopRequireDefault(require("module$node_modules$d3_delaunay$src$path")),_polygon=_interopRequireDefault(require("module$node_modules$d3_delaunay$src$polygon")),_voronoi=
_interopRequireDefault(require("module$node_modules$d3_delaunay$src$voronoi")),_marked=regeneratorRuntime.mark(flatIterable),tau=2*Math.PI,pow=Math.pow;global=function(){function Delaunay(points){if(!(this instanceof Delaunay))throw new TypeError("Cannot call a class as a function");this._delaunator=new _delaunator["default"](points);this.inedges=new Int32Array(points.length/2);this._hullIndex=new Int32Array(points.length/2);this.points=this._delaunator.coords;this._init()}_createClass(Delaunay,null,
[{key:"from",value:function(points){var fx=1<arguments.length&&void 0!==arguments[1]?arguments[1]:pointX,fy=2<arguments.length&&void 0!==arguments[2]?arguments[2]:pointY,that=3<arguments.length?arguments[3]:void 0;if("length"in points){for(var n=points.length,array=new Float64Array(2*n),i=0;i<n;++i){var p=points[i];array[2*i]=fx.call(that,p,i,points);array[2*i+1]=fy.call(that,p,i,points)}fx=array}else fx=Float64Array.from(flatIterable(points,fx,fy,that));return new Delaunay(fx)}}]);_createClass(Delaunay,
[{key:"update",value:function(){this._delaunator.update();this._init();return this}},{key:"_init",value:function(){var d=this._delaunator,points=this.points;if(d.hull&&2<d.hull.length&&collinear$jscomp$0(d)){this.collinear=Int32Array.from({length:points.length/2},function(_,i){return i}).sort(function(i,j){return points[2*i]-points[2*j]||points[2*i+1]-points[2*j+1]});d=this.collinear[0];var f=this.collinear[this.collinear.length-1];d=[points[2*d],points[2*d+1],points[2*f],points[2*f+1]];d=1E-8*Math.hypot(d[3]-
d[1],d[2]-d[0]);f=0;for(var n=points.length/2;f<n;++f){var p=jitter(points[2*f],points[2*f+1],d);points[2*f]=p[0];points[2*f+1]=p[1]}this._delaunator=new _delaunator["default"](points)}else delete this.collinear;p=this.halfedges=this._delaunator.halfedges;d=this.hull=this._delaunator.hull;var triangles=this.triangles=this._delaunator.triangles;f=this.inedges.fill(-1);n=this._hullIndex.fill(-1);for(var _e=0,_n=p.length;_e<_n;++_e){var _p=triangles[2===_e%3?_e-2:_e+1];if(-1===p[_e]||-1===f[_p])f[_p]=
_e}p=0;for(triangles=d.length;p<triangles;++p)n[d[p]]=p;2>=d.length&&0<d.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=d[0],f[d[0]]=1,2===d.length&&(f[d[1]]=0,this.triangles[1]=d[1],this.triangles[2]=d[1]))}},{key:"voronoi",value:function(bounds){return new _voronoi["default"](this,bounds)}},{key:"neighbors",value:regeneratorRuntime.mark(function neighbors(i){var inedges,hull,_hullIndex,halfedges,triangles,collinear,l,e0,e,p0,p;
return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:inedges=this.inedges;hull=this.hull;_hullIndex=this._hullIndex;halfedges=this.halfedges;triangles=this.triangles;collinear=this.collinear;if(!collinear){_context.next=10;break}l=collinear.indexOf(i);if(!(0<l)){_context.next=6;break}_context.next=6;return collinear[l-1];case 6:if(!(l<collinear.length-1)){_context.next=9;break}_context.next=9;return collinear[l+1];case 9:return _context.abrupt("return");
case 10:e0=inedges[i];if(-1!==e0){_context.next=13;break}return _context.abrupt("return");case 13:e=e0,p0=-1;case 14:return _context.next=16,p0=triangles[e];case 16:e=2===e%3?e-2:e+1;if(triangles[e]===i){_context.next=19;break}return _context.abrupt("return");case 19:e=halfedges[e];if(-1!==e){_context.next=26;break}p=hull[(_hullIndex[i]+1)%hull.length];if(p===p0){_context.next=25;break}_context.next=25;return p;case 25:return _context.abrupt("return");case 26:if(e!==e0){_context.next=14;break}case 27:case "end":return _context.stop()}},
neighbors,this)})},{key:"find",value:function(x,y){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if((x=+x,x!==x)||(y=+y,y!==y))return-1;for(var i0=i,c;0<=(c=this._step(i,x,y))&&c!==i&&c!==i0;)i=c;return c}},{key:"_step",value:function(i,x,y){var inedges=this.inedges,hull=this.hull,_hullIndex=this._hullIndex,halfedges=this.halfedges,triangles=this.triangles,points=this.points;if(-1===inedges[i]||!points.length)return(i+1)%(points.length>>1);var c=i,dc=pow(x-points[2*i],2)+pow(y-points[2*
i+1],2),e=inedges=inedges[i];do{var t=triangles[e],dt=pow(x-points[2*t],2)+pow(y-points[2*t+1],2);dt<dc&&(dc=dt,c=t);e=2===e%3?e-2:e+1;if(triangles[e]!==i)break;e=halfedges[e];if(-1===e){e=hull[(_hullIndex[i]+1)%hull.length];if(e!==t&&pow(x-points[2*e],2)+pow(y-points[2*e+1],2)<dc)return e;break}}while(e!==inedges);return c}},{key:"render",value:function(context){for(var buffer=null==context?context=new _path["default"]:void 0,points=this.points,halfedges=this.halfedges,triangles=this.triangles,i=
0,n=halfedges.length;i<n;++i){var j=halfedges[i];if(!(j<i)){var ti=2*triangles[i];j=2*triangles[j];context.moveTo(points[ti],points[ti+1]);context.lineTo(points[j],points[j+1])}}this.renderHull(context);return buffer&&buffer.value()}},{key:"renderPoints",value:function(context,r){void 0!==r||context&&"function"===typeof context.moveTo||(r=context,context=null);r=void 0==r?2:+r;for(var buffer=null==context?context=new _path["default"]:void 0,points=this.points,i=0,n=points.length;i<n;i+=2){var x=points[i],
y=points[i+1];context.moveTo(x+r,y);context.arc(x,y,r,0,tau)}return buffer&&buffer.value()}},{key:"renderHull",value:function(context){var buffer=null==context?context=new _path["default"]:void 0,hull=this.hull,points=this.points,h=2*hull[0],n=hull.length;context.moveTo(points[h],points[h+1]);for(h=1;h<n;++h){var _h=2*hull[h];context.lineTo(points[_h],points[_h+1])}context.closePath();return buffer&&buffer.value()}},{key:"hullPolygon",value:function(){var polygon=new _polygon["default"];this.renderHull(polygon);
return polygon.value()}},{key:"renderTriangle",value:function(i,context){var buffer=null==context?context=new _path["default"]:void 0,points=this.points,triangles=this.triangles,t0=2*triangles[i*=3],t1=2*triangles[i+1];i=2*triangles[i+2];context.moveTo(points[t0],points[t0+1]);context.lineTo(points[t1],points[t1+1]);context.lineTo(points[i],points[i+1]);context.closePath();return buffer&&buffer.value()}},{key:"trianglePolygons",value:regeneratorRuntime.mark(function trianglePolygons(){var triangles,
i,n;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:triangles=this.triangles,i=0,n=triangles.length/3;case 2:if(!(i<n)){_context2.next=8;break}_context2.next=5;return this.trianglePolygon(i);case 5:++i;_context2.next=2;break;case 8:case "end":return _context2.stop()}},trianglePolygons,this)})},{key:"trianglePolygon",value:function(i){var polygon=new _polygon["default"];this.renderTriangle(i,polygon);return polygon.value()}}]);return Delaunay}();
exports["default"]=global}
//# sourceMappingURL=module$node_modules$d3_delaunay$src$delaunay.js.map
